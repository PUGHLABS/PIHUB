# PiVault — Docker Compose environment variables
# Copy to .env and fill in your values. Never commit .env — it is gitignored.

# ── Server ───────────────────────────────────────────────────────────────────
# Generate a strong random string: openssl rand -hex 32
JWT_SECRET=change-this-to-a-64-char-random-string
JWT_EXPIRY=24h

# Must match WX_API_KEY in esp32/src/config.h
WX_API_KEY=change-this-to-match-your-esp32-api-key

# ── WireGuard ─────────────────────────────────────────────────────────────────
# Your Pi's public IP or DuckDNS hostname.
# Leave as 'auto' if you have a static IP — the container will detect it.
# Set to e.g. myhome.duckdns.org if you use dynamic DNS.
WG_SERVERURL=auto

# UDP port for WireGuard. Must match your router port-forward rule.
WG_SERVERPORT=51820

# Comma-separated peer names. One config + QR code is generated per name.
# Add more (e.g. tablet,work-laptop) and recreate the container to generate them.
WG_PEERS=laptop,phone

# Internal VPN subnet (clients get IPs like 10.13.13.2, 10.13.13.3, ...)
WG_INTERNAL_SUBNET=10.13.13.0

# DNS pushed to VPN clients. 'auto' = Pi's DNS. Or set to 1.1.1.1 for Cloudflare.
WG_PEERDNS=auto

# Routes pushed to clients.
# 0.0.0.0/0  = full tunnel (all traffic through VPN)
# 192.168.0.0/24  = split tunnel (only LAN traffic, faster for daily use)
WG_ALLOWEDIPS=0.0.0.0/0

# Keepalive for peers behind NAT (keeps connections alive through firewalls)
WG_KEEPALIVE=all

# ── General ───────────────────────────────────────────────────────────────────
TZ=America/Los_Angeles
